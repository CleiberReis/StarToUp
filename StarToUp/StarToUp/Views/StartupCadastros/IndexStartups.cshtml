@model IEnumerable<StarToUp.Models.StartupCadastro>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_IndexStartup.cshtml";
}

<div class="bg-img" style="background-image: url('../../Content/img/background2.jpg');">
    <div class="overlay"></div>
</div>
<div class="header-wrapper sm-padding bg-grey">
    <div class="container">
        <h2>Startups</h2>
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    </div>
</div>
<div class="row linhaunderline">
    <div class="col-md-2">
        <b>Nome Startup</b>
    </div>
    <div class="col-md-2">
        <b>Segmentação</b>
    </div>
    <div class="col-md-2 acoesadireita">
        <b>Ações</b>
    </div>
</div>
@foreach (var item in Model)
{
    <div class="row linhaunderline" onmouseover="javascript:this.style.backgroundColor='#e2e2e2'" onmouseout="javascript:this.style.backgroundColor=''">
        <div class="col-md-2">
            @Html.DisplayFor(modelItem => item.Nome)
        </div>
        <div class="col-md-2">
            @Html.DisplayFor(modelItem => item.Segmentacoes.Descricao)
        </div>
        <div class="col-md-2 acoesadireita">
            <a href='@Url.Action("Edit", "StartupCadastros", new { id = item.StartupCadastroID })'>
                <img src='@Url.Content("~/Content/img/editar.png")' class="botaoicone"
                     title="Editar" />
            </a>
            <a class="btn excluir botaoicone" data-target="#modal" data-toggle="modal" data-content="@item.Nome" data-id="@item.StartupCadastroID" style="background: url(@Url.Content("~/Content/img/excluir.png")) no-repeat;">
            </a>
            <a href='@Url.Action("Details", "StartupCadastros", new { id = item.StartupCadastroID })'>
                <img src='@Url.Content("~/Content/img/detalhes.png")' class="botaoicone"
                     title="Detalhes" />
            </a>
        </div>
    </div>


    <div id="modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title">Exclusão de Startup</h4>
                </div>
                <div class="modal-body">
                    <div id="mensagem"></div>
                    <input type="hidden" id="numero" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                            data-dismiss="modal">
                        Cancelar
                    </button>
                    <button type="button" class="btn btn-primary" id="btnDelete">Deletar</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <br />
}

@section scripts{
    <script>
 $(function () {
 $(".excluir").click(function () {
 var id = $(this).attr("data-id");
 var descricao = $(this).attr("data-content");
 $("#mensagem").html("<p>Deseja excluir a startup " + descricao + "?</p>");
 $("#numero").text(id);
 });
 $("#btnDelete").click(function () {
 var id = $("#numero").text();
 var url = '@Url.Action("DeleteAJAX", "StartupCadastros")';
     $.post(url, { startupCadastroID: id },
 function (data) {
 window.location.href = "@Url.Action("Index", "StartupCadastros")";
 })
 .fail(function () {
 alert("error")
 });
 //$("#modal").fadeOut("slow", function () {
 // // Animation complete.
 //});
 $('#modal').modal('hide');
 });
        })
    </script>
}

<div class="row linha" style="font-size:x-small;">
    <div class="col-md-12">
        <b>Legenda:</b> <br />
        <img src='@Url.Content("~/Content/img/detalhes.png")' class="botaoicone" /> Detalhes

    </div>
</div>

<!-- Footer -->
<footer id="footer" class="sm-padding bg-dark">

    <!-- Container -->
    <div class="container">
        <br /><br />
        <!-- Row -->
        <div class="row">

            <div class="col-md-12">

                <!-- footer logo -->
                <div class="footer-logo">
                    <a href="~/Views/Home/Index.cshtml"><img src="~/Content/img/logo2.png" alt="logo"></a>
                </div>
                <!-- /footer logo -->
                <!-- footer follow -->
                <ul class="footer-follow">
                    <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                    <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                    <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                    <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                    <li><a href="#"><i class="fa fa-youtube"></i></a></li>
                </ul>
                <!-- /footer follow -->
                <!-- footer copyright -->
                <div class="footer-copyright">
                    <p>Copyright © 2019. All Rights Reserved. Designed by <a href="https://techintime.com" target="_blank">Tech In Time</a></p>
                </div>
                <!-- /footer copyright -->

            </div>

        </div>
        <!-- /Row -->

    </div>
    <!-- /Container -->
</footer>
<!-- /Footer -->